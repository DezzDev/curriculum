---
import {work} from "@cv"

---

<section>
	<h1>Experiencia laboral</h1>

	<ul>
		{
			work.map(({name,startDate,endDate,position,summary,url }) =>{
				
				const startYear = new Date(startDate).getFullYear()
				let years
				if(!endDate){

					 years = `${startYear}`
				}else{
					const endYear = endDate !== null ? new Date(endDate).getFullYear() : "Actual"
					years = `${startYear} - ${endYear}`

				}

				return(
					<li>
						<article>
							<header>

								<div>
									<a href={url} target="_blank">
										<h3>{name}</h3>
									</a>
									<h4>{position}</h4>
								</div>
								
								<time>{years}</time>
								
							</header>

							<footer>
								<p>{summary}</p>
							</footer>
							
						</article>
					</li>

				)
			}
			)
		}
	</ul>
</section>

<style>
	ul{
		display: flex;
		flex-direction: column;
		gap: 2rem;
	}

	h3{
		font-weight: 500;
		color: #111;
	}

	h4{
		color: #222;
		font-weight: 400;
	}

	header{
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		margin-bottom: .5rem;
	}

	header a:hover{
		text-decoration: underline;
		color: #111;
	}

	time{
		font-size: 0.85rem;
		color: #555;
	}
</style>